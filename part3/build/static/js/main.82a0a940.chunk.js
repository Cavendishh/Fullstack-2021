(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{33:function(e,n,t){e.exports=t(59)},59:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(11),u=t.n(o),c=t(21),l=t(9),m=t(6),s=function(e){return r.a.createElement(m.a,{className:"mt-3"},r.a.createElement(m.a.Label,null,"Search for person(s):"),r.a.createElement(m.a.Control,{value:e.showPerson,onChange:e.handleFilterChange}))},i=t(14),d=function(e){return r.a.createElement(m.a,{onSubmit:e.addPerson},r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Label,null,"Name:"),r.a.createElement(m.a.Control,{value:e.newName,onChange:e.handleNoteChange}),r.a.createElement(m.a.Text,{className:"text-muted"},"If the name is not unique the phone number will be updated")),r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Label,null,"Number:"),r.a.createElement(m.a.Control,{value:e.newNumber,onChange:e.handleNumberChange}),r.a.createElement(m.a.Text,{className:"text-muted"},"Phone number must be at least 8 digits long")),r.a.createElement(i.a,{variant:"primary",type:"submit",block:!0},"Add"))},f=t(16),h=t(10),b=function(e){return e.personsFiltered.map((function(n){return r.a.createElement(h.a,{xs:6,md:4,lg:3,xl:3},r.a.createElement(f.a.Body,{key:n.name},r.a.createElement(f.a.Title,null,n.name),r.a.createElement(f.a.Text,null,n.number),r.a.createElement(i.a,{variant:"danger",onClick:function(){return e.handleRemovePerson(n.name,n.id)}},"Remove")))}))},E=t(20),p=function(e){var n=e.message,t=e.status;return null===n?null:"error"===t?r.a.createElement(E.a,{variant:"danger"},n):r.a.createElement(E.a,{variant:"success"},n)},v=t(13),g=t.n(v),w="/api/persons",C=function(){return g.a.get(w)},N=function(e){return g.a.post(w,e).then((function(e){return e.data}))},j=function(e){return g.a.delete("".concat(w,"/").concat(e)).then((function(e){return e.data}))},O=function(e,n){return g.a.put("".concat(w,"/").concat(e),n).then((function(e){return e.data}))},y=t(32),T=t(19),x=(t(58),function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),m=Object(l.a)(u,2),i=m[0],f=m[1],E=Object(a.useState)(""),v=Object(l.a)(E,2),g=v[0],w=v[1],x=Object(a.useState)(""),P=Object(l.a)(x,2),S=P[0],k=P[1],L=Object(a.useState)(null),F=Object(l.a)(L,2),I=F[0],R=F[1],A=Object(a.useState)(null),B=Object(l.a)(A,2),D=B[0],G=B[1],J=t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())}));Object(a.useEffect)((function(){C().then((function(e){o(e.data)}))}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"mt-3"},r.a.createElement(T.a,{className:"justify-content-md-center"},r.a.createElement(h.a,{md:{span:5}},r.a.createElement(p,{message:I,status:D}),r.a.createElement("h1",{className:"mb-4"},"Phonebook"),r.a.createElement("h4",null,"Add a new person"),r.a.createElement(d,{addPerson:function(e){e.preventDefault();var n={name:i,number:g};if(t.some((function(e){return e.name.toLowerCase()===i.toLowerCase()}))){if(window.confirm(i+" is already added to phonebook, replace the old number with a new one?")){var a=t.find((function(e){return e.name===i}));O(a.id,Object(c.a)(Object(c.a)({},a),{},{number:g})).then((function(e){o(t.map((function(n){return n.name===i?e:n})))})).catch((function(){R("Information of ".concat(i," has already been removed from server")),G("error"),setTimeout((function(){R(null),G(null)}),3e3)})),R("Changed ".concat(i,"'s phone number")),G("success"),setTimeout((function(){R(null),G(null)}),3e3),f(""),w("")}}else N(n).then((function(e){o(t.concat(e)),R("Added ".concat(i)),G("success"),f(""),w("")})).catch((function(e){R(e.response.data.error),G("error")})),setTimeout((function(){R(null),G(null)}),3e3)},newName:i,newNumber:g,handleNoteChange:function(e){return f(e.target.value)},handleNumberChange:function(e){return w(e.target.value)}}),r.a.createElement(s,{showPerson:S,handleFilterChange:function(e){return k(e.target.value)}}))),r.a.createElement(T.a,{className:"mt-3"},r.a.createElement(b,{personsFiltered:J,handleRemovePerson:function(e,n){window.confirm("Do you really want to delete this person?")&&(j(n).then((function(){o(t.filter((function(e){return e.id!==n})))})).catch((function(){R("Information of ".concat(i," has already been removed from server")),G("error"),setTimeout((function(){R(null),G(null)}),3e3),o(t.filter((function(e){return e.id!==n})))})),R("Removed ".concat(e)),G("success"),setTimeout((function(){R(null),G(null)}),3e3))}}))))});u.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.82a0a940.chunk.js.map