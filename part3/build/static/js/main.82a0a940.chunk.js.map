{"version":3,"sources":["components/SearchPerson.js","components/NewPerson.js","components/RenderPerson.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["SearchPerson","props","Form","className","Label","Control","value","showPerson","onChange","handleFilterChange","NewPerson","onSubmit","addPerson","Group","newName","handleNoteChange","Text","newNumber","handleNumberChange","Button","variant","type","block","RenderPerson","personsFiltered","map","person","Col","xs","md","lg","xl","Card","Body","key","name","Title","number","onClick","handleRemovePerson","id","Notification","message","status","Alert","baseUrl","axios","get","newObject","post","then","response","data","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setShowPerson","errorMessage","setErrorMessage","messageStatus","setMessageStatus","filter","toLowerCase","includes","useEffect","personService","Container","Row","span","event","preventDefault","personObject","some","window","confirm","personFound","find","catch","setTimeout","returnedPerson","concat","error","target","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.82a0a940.chunk.js","sourcesContent":["import React from 'react'\nimport Form from 'react-bootstrap/Form'\n\nconst SearchPerson = (props) => {\n  return (\n    <Form className='mt-3'>\n      <Form.Label>Search for person(s):</Form.Label>\n      <Form.Control value={props.showPerson} onChange={props.handleFilterChange} />\n    </Form>\n  )\n}\n\nexport default SearchPerson;\n","import React from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\n\nconst NewPerson = (props) => {\n  return (\n    <Form onSubmit={props.addPerson}>\n      <Form.Group>\n        <Form.Label>Name:</Form.Label>\n        <Form.Control value={props.newName} onChange={props.handleNoteChange} />\n        <Form.Text className=\"text-muted\">\n          If the name is not unique the phone number will be updated\n        </Form.Text>\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>Number:</Form.Label>\n        <Form.Control value={props.newNumber} onChange={props.handleNumberChange} />\n        <Form.Text className=\"text-muted\">\n          Phone number must be at least 8 digits long\n        </Form.Text>\n      </Form.Group>\n      <Button variant='primary' type='submit' block>Add</Button>\n    </Form>\n\n  )\n}\n\nexport default NewPerson","import React from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Card from 'react-bootstrap/Card'\nimport Col from 'react-bootstrap/Col'\n\nconst RenderPerson = (props) => {\n  return (\n    props.personsFiltered.map((person) =>\n      <Col xs={6} md={4} lg={3} xl={3}>\n        <Card.Body key={person.name}>\n          <Card.Title>\n            {person.name}\n          </Card.Title>\n          <Card.Text>\n            {person.number}\n          </Card.Text>\n          <Button variant='danger' onClick={() => props.handleRemovePerson(person.name, person.id)}>\n            Remove\n        </Button>\n        </Card.Body>\n      </Col>\n    )\n  )\n}\n\nexport default RenderPerson","import React from 'react'\nimport Alert from 'react-bootstrap/Alert'\n\nconst Notification = ({ message, status }) => {\n  if (message === null) {\n    return null\n  } else if (status === 'error') {\n    return <Alert variant='danger'>{message}</Alert>\n  } else {\n    return <Alert variant='success'>{message}</Alert>\n  }\n}\n\nexport default Notification","import axios from 'axios'\n//This URL is for part 2 exercises\n//const baseUrl = 'http://localhost:3001/persons'\n\n//This URL is for part 3 exercises\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport SearchPerson from './components/SearchPerson'\nimport NewPerson from './components/NewPerson'\nimport RenderPerson from './components/RenderPerson'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showPerson, setShowPerson] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [messageStatus, setMessageStatus] = useState(null)\n\n  const handleNoteChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setShowPerson(event.target.value)\n  const personsFiltered = persons.filter((person) => person.name.toLowerCase().includes(showPerson.toLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleRemovePerson = (name, id) => {\n    if (window.confirm('Do you really want to delete this person?')) {\n      personService\n      .remove(id)\n      .then(() => {\n        setPersons(persons.filter(n => n.id !== id));\n      })\n      .catch(() => {\n        setErrorMessage(`Information of ${newName} has already been removed from server`)\n        setMessageStatus('error')\n        setTimeout(() => {\n          setErrorMessage(null)\n          setMessageStatus(null)\n        }, 3000)\n        setPersons(persons.filter(n => n.id !== id));\n      })\n    setErrorMessage(`Removed ${name}`)\n    setMessageStatus('success')\n    setTimeout(() => {\n      setErrorMessage(null)\n      setMessageStatus(null)\n      }, 3000)\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.some((person) => person.name.toLowerCase() === newName.toLowerCase())) {\n      if (window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')) {        \n        const personFound = persons.find((person) => person.name === newName)\n\n        personService\n          .update(personFound.id, { ...personFound, number: newNumber })\n          .then(response => {\n            setPersons(persons.map(person => (person.name === newName ? response : person)))\n          })\n          .catch(() => {\n            setErrorMessage(`Information of ${newName} has already been removed from server`)\n            setMessageStatus('error')\n              setTimeout(() => {\n                setErrorMessage(null)\n                setMessageStatus(null)\n              }, 3000)\n          })\n        setErrorMessage(`Changed ${newName}'s phone number`)\n        setMessageStatus('success')\n        setTimeout(() => {\n          setErrorMessage(null)\n          setMessageStatus(null)\n        }, 3000)        \n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorMessage(`Added ${newName}`)\n          setMessageStatus('success')\n          setNewName('')\n          setNewNumber('')  \n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setMessageStatus('error')\n        })\n      setTimeout(() => {\n        setErrorMessage(null)\n        setMessageStatus(null)\n      }, 3000)\n    }\n  }\n\n  return (\n    <>\n      <Container className='mt-3'>\n        <Row className='justify-content-md-center'>\n          <Col md={{ span: 5 }}>\n            <Notification message={errorMessage} status={messageStatus} />\n            <h1 className='mb-4'>Phonebook</h1>\n            <h4>Add a new person</h4>\n            <NewPerson\n              addPerson={addPerson}\n              newName={newName}\n              newNumber={newNumber}\n              handleNoteChange={handleNoteChange}\n              handleNumberChange={handleNumberChange}\n            />\n            <SearchPerson\n              showPerson={showPerson}\n              handleFilterChange={handleFilterChange}\n            />\n          </Col>\n        </Row>\n        <Row className='mt-3'>\n          <RenderPerson personsFiltered={personsFiltered} handleRemovePerson={handleRemovePerson}\n          />\n        </Row>\n      </Container>\n    </>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}